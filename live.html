
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="keywords" content="tcec,chess,engine,live,game,broadcast,super x1,super x2,event" />
    <link id="favicon" rel="icon" href="img/favicon.ico">

    <title>TCEC - Live Chess Broadcast</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="dist/css/chessboard-0.3.0.min.css" rel="stylesheet">
    <link href="dist/bootstrap-table.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <!-- vch -->
    <link href="dist/css/custom.css?v=1000000000000000000002" rel="stylesheet">
  </head>

  <body>
    <main role="main" class="container">
      <div class="row">
        <div class="col-md-3 col-3 text-left">
          <a href="live.html"><img src="img/tcec.jpg" class="banner-image" alt="TCEC" /></a>
          <a target="_blank" href="http://www.chessdom.com"><img src="img/cd.jpg" class="banner-image" alt="Chessdom" /></a>
        </div>
        <div class="col-md-6 col-6 text-center">
          <div id="google_adverts">
            <script async="" type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle" style="display:inline-block; width: 100%;" data-ad-client="ca-pub-6544406400639567" data-ad-slot="8395728881"></ins>
          </div>
          <div id="encouragement" style="display: none;">
            TCEC is based on voluntary work. Please consider whitelisting http://tcec.chessdom.com in your ad blocker - or send a donation. Thank you!
          </div>
        </div>
        <div class="col-md-3 col-3 text-right">
          <form target = "_blank" action="https://www.paypal.com/cgi-bin/webscr" method="post" style="float: right;">
            <input type="hidden" name="cmd" value="_s-xclick">
            <input type="hidden" name="hosted_button_id" value="L84QRRQJ88CYQ">
            <input type="image" src="img/paypal3.jpg" name="submit" alt="PayPal - The safer, easier way to pay online!" class="banner-image">
          </form>
          <a target="_blank" href="https://www.microsoft.com/en-us/windows/microsoft-edge" style="float: right;"><img src="img/edge.jpg" class="banner-image" alt="Edge" /></a>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <h4 id="event-name" class="eventname">TCEC - Live Chess Broadcast</h4>
          <table id="event-overview" class="eventoverview">
          </table>
        </div>
      </div>

      <br>

      <div class="row">
        <div class="col-md-4" id="board-container">
          <div class="row" id="board-top-engine-eval">
            <div class="col-3 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none">
              <span class="board-top-engine-eval black-engine-name"></span>
            </div>
            <div class="col-3 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none text-center">
              <span class="h5 d-inline board-top-engine-eval black-time-remaining">
                0:00:00
              </span>
            </div>
            <div class="col-2 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none text-center">
              <span class="badge badge-dark board-top-engine-eval black-time-used">
                0:00
              </span>
            </div>
            <div class="col-2 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none text-center">
              <span class="h5 d-inline board-top-engine-eval black-engine-eval">
              </span>
            </div>
          </div>

          <!-- Main chess board -->
          <div id="board" style="width: 100%"></div>

          <div class="row" id="board-bottom-engine-eval">
            <div class="col-3 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none">
              <span class="board-bottom-engine-eval white-engine-name"></span>
            </div>
            <div class="col-3 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none text-center">
              <span class="h5 d-inline board-bottom-engine-eval white-time-remaining">
                0:00:00
              </span>
            </div>
            <div class="col-2 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none text-center">
              <span class="badge badge-dark board-bottom-engine-eval white-time-used">
                0:00
              </span>
            </div>
            <div class="col-2 d-inline-block d-sm-none d-md-none d-lg-none d-xl-none text-center">
              <span class="h5 d-inline board-bottom-engine-eval white-engine-eval">
              </span>
            </div>
          </div>

          <div class="navigation-buttons row text-center" style="margin-top: 5px; margin-left: 0">
            <div class="col-1 col-md-1" style="padding: 0px;">
              &nbsp;
            </div>
            <div class="col-1 col-md-1" style="padding: 0px;">
              <a href="http://tcec.chessdom.com/archive.php" class="board-navigation btn btn-primary btn-sm">
                <i class="fa fa-archive"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="http://tcec.chessdom.com/live/live.pgn" class="board-navigation btn btn-primary btn-sm">
                <i class="fa fa-download"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a class="board-navigation btn btn-primary btn-sm" style="color: #dfdfdf;" onClick="copyFen()" title="Click to copy FEN" id="fen">
                FEN
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="#" class="board-navigation btn btn-primary btn-sm" id="board-to-first">
                <i class="fa fa-angle-double-left"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="#" class="board-navigation btn btn-primary btn-sm" id="board-previous">
                <i class="fa fa-angle-left"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="#" class="board-navigation btn btn-primary btn-sm" id="board-autoplay">
                <i class="fa fa-play"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="#" class="board-navigation btn btn-primary btn-sm" id="board-next">
                <i class="fa fa-angle-right"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="#" class="board-navigation btn btn-primary btn-sm" id="board-to-last">
                <i class="fa fa-angle-double-right"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="#" class="board-navigation btn btn-primary btn-sm" id="board-reverse">
                <i class="fa fa-sync"></i>
              </a>
            </div>
            <div class="col-1 col-md-1" style="padding: 0px; padding-left: 3px">
              <a href="#" class="board-navigation btn btn-primary btn-sm" id="toggleDark">
                <i class="fa fa-moon"></i>
              </a>
            </div>
          </div>
          <br>
          <div id="engine-history"></div>
        </div>

        <div class="col-md-4" id="middle-data-column">
          <div id="black-engine-information" style="border:1px solid black">
            <div class="row text-center">
              <div class="col-md-4 col-sm-6 col-4">
                <img src="img/tcec.jpg" class="engineimage" id="black-engine" />
              </div>
              <div class="col-md-4 col-sm-6 col-4">
                <span class="align-middle h2 d-inline black-engine-eval">
                </span>
                
              </div>
              <div class="col-md-4 col-sm-12 col-4">
                <span class="h5 d-inline black-time-remaining">
                  0:00:00
                </span>
                <br />
                <span class="badge badge-dark black-time-used">
                  0:00
                </span>
              </div>
            </div>
            <div class="row">
            </div>
            <div class="row text-center">
              <div class="col-md-4 col-4">
                <span class="black-engine-speed"></span>
              </div>
              <div class="col-md-4 col-4">
                <span class="d-none d-md-inline-block">Depth: </span>
                <span class="black-engine-depth"></span>
              </div>
              <div class="col-md-4 col-4">
                <span class="black-engine-tbhits"></span> TB hits
              </div>
            </div>
            <div class="engine-pv alert alert-dark" id="black-engine-pv"></div>
            <div class="row text-center">
              <div class="col-md-6 col-12">
                <img src="img/chesspieces/wikipedia/bK.png" style="height: 32px">
                <span class="h5 d-inline black-engine-name"></span>
              </div>
              <div class="col-md-6 col-12">
                <span id="black-material">
                  <span class="q"></span>
                  <span class="r"></span>
                  <span class="b"></span>
                  <span class="n"></span>
                  <span class="p"></span>
                </span>
              </div>
            </div>
          </div>

          <br>

          <div id="white-engine-information" class="border">
            <div class="row text-center">
              <div class="col-md-4 col-sm-6 col-4">
                <img src="img/tcec.jpg" class="engineimage" id="white-engine" />
              </div>
              <div class="col-md-4 col-sm-6 col-4">
                <span class="align-middle h2 d-inline white-engine-eval">
                </span>
                
              </div>
              <div class="col-md-4 col-sm-12 col-4">
                <span class="h5 d-inline white-time-remaining">
                  0:00:00
                </span>
                <br />
                <span class="badge badge-dark white-time-used">
                  0:00
                </span>
              </div>
            </div>
            <div class="row text-center">
              <div class="col-md-4 col-4">
                <span class="white-engine-speed"></span>
              </div>
              <div class="col-md-4 col-4">
                <span class="d-none d-md-inline-block">Depth: </span>
                <span class="white-engine-depth"></span>
              </div>
              <div class="col-md-4 col-4">
                <span class="white-engine-tbhits"></span> TB hits
              </div>
            </div>
            <div class="engine-pv alert alert-dark" id="white-engine-pv"></div>
            <div class="row text-center">
              <div class="col-md-6 col-12">
                <img src="img/chesspieces/wikipedia/wK.png" style="height: 32px">
                <span class="h5 d-inline white-engine-name"></span>
              </div>
              <div class="col-md-6 col-12">
                <span id="white-material">
                  <span class="q"></span>
                  <span class="r"></span>
                  <span class="b"></span>
                  <span class="n"></span>
                  <span class="p"></span>
                </span>
              </div>
            </div>
          </div>
   
          <br>

          <div id="charts">
            <div class="row">
              <div class="col-12">
                  <ul class="nav nav-pills mb-3 nav-justified" id="pills-tab" role="tablist">
                    <li class="nav-item">
                  <a class="nav-link active" id="v-pills-eval-tab" data-toggle="pill" href="#v-pills-eval" role="tab" aria-controls="v-pills-eval" aria-selected="true">
                    Eval
                  </a>
                    </li>
                    <li class="nav-item">
                  <a class="nav-link" id="v-pills-time-tab" data-toggle="pill" href="#v-pills-time" role="tab" aria-controls="v-pills-time" aria-selected="false">
                    Time
                  </a>
                    </li>
                    <li class="nav-item">
                  <a class="nav-link" id="v-pills-speed-tab" data-toggle="pill" href="#v-pills-speed" role="tab" aria-controls="v-pills-speed" aria-selected="false">
                    Speed
                  </a>
                    </li>
                    <li class="nav-item">
                  <a class="nav-link" id="v-pills-depth-tab" data-toggle="pill" href="#v-pills-depth" role="tab" aria-controls="v-pills-depth" aria-selected="false">
                    Depth
                  </a>
                    </li>
                    <li class="nav-item">
                  <a class="nav-link" id="v-pills-tbhits-tab" data-toggle="pill" href="#v-pills-tbhits" role="tab" aria-controls="v-pills-tbhits" aria-selected="false">
                    TB
                  </a>
                    </li>
                  </ul>
              </div>
              <div class="col-12">
                <div class="tab-content" id="v-pills-tabContent">
                  <div class="tab-pane fade show active" id="v-pills-eval" role="tabpanel" aria-labelledby="v-pills-eval-tab">
                    <canvas id="eval-graph"></canvas>
                  </div>
                  <div class="tab-pane fade show" id="v-pills-time" role="tabpanel" aria-labelledby="v-pills-time-tab">
                    <canvas id="time-graph"></canvas>
                  </div>
                  <div class="tab-pane fade" id="v-pills-speed" role="tabpanel" aria-labelledby="v-pills-speed-tab">
                    <canvas id="speed-graph"></canvas>
                  </div>
                  <div class="tab-pane fade" id="v-pills-depth" role="tabpanel" aria-labelledby="v-pills-depth-tab">
                    <canvas id="depth-graph"></canvas>
                  </div>
                  <div class="tab-pane fade" id="v-pills-tbhits" role="tabpanel" aria-labelledby="v-pills-tbhits-tab">
                    <canvas id="tbhits-graph"></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div>
            <iframe frameborder="0" style="width: 100%" scrolling="no" id="chatright" src="http://www.twitch.tv/embed/TCEC_Chess_TV/chat?popout"></iframe>
          </div>
          <div class="text-center">
            <a target="_blank" href="https://www.twitch.tv/products/tcecpoc/ticket" class="btn btn-primary">Subscribe</a>
            <a target="_blank" href="https://streamlabs.com/TCEC_Chess_TV" class="btn btn-primary">Donate</a>
          </div>
        </div>
      </div>

      <br>

      <ul class="nav nav-pills mb-3 nav-justified" id="pills-tab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="pills-livesf-tab" data-toggle="pill" href="#pills-livesf" role="tab" aria-controls="pills-livesf" aria-selected="false">Live Eval</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="pills-cross-tab" data-toggle="pill" href="#pills-cross" role="tab" aria-controls="pills-cross" aria-selected="true">Crosstable</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="pills-sched-tab" data-toggle="pill" href="#pills-sched" role="tab" aria-controls="pills-sched" aria-selected="false">Schedule</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="pills-enginepv-tab" data-toggle="pill" href="#pills-enginepv" role="tab" aria-controls="pills-enginepv" aria-selected="false">Engine Pv</a>
        </li>
      </ul>
      <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active smallfont" id="pills-livesf" role="tabpanel" aria-labelledby="pills-livesf-tab">
          <table id="live-eval"></table>
        </div>
        <div class="tab-pane fade smallfont" id="pills-cross" role="tabpanel" aria-labelledby="pills-cross-tab">
          <table id="crosstable" class="table-striped">
          </table>
        </div>
        <div class="tab-pane fade smallfont scheduleclass" id="pills-sched" role="tabpanel" aria-labelledby="pills-sched-tab">
          <table id="schedule" class="table-striped">
          </table>
        </div>
        <div class="tab-pane fade smallfont" id="pills-enginepv" role="tabpanel" aria-labelledby="pills-enginepv-tab">Coming soon</div>
      </div>

        <br>

      <div class="row">
        <div class="col-md-12">
          <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-6544406400639567" data-ad-slot="2712361177" data-adsbygoogle-status="done">
            <ins id="aswift_1_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;">
              <ins id="aswift_1_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;">
                <iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:300px;height:250px;"></iframe>
              </ins>
            </ins>
          </ins>
        </div>
      </div>

      <br>

      <div class="row d-none d-sm-block">
          <div class="col-md-12 text-center">
            <iframe
                src="https://player.twitch.tv/?TCEC_Chess_TV"
                height="400"
                width="340"
                frameborder="0"
                scrolling="no"
                allowfullscreen="true"
                autoplay="true"
                muted="true">
            </iframe>
            <div>
                &copy;<a href="http://tcec.chessdom.com/">TCEC</a>
                <a target="_blank" href="http://www.chessdom.com">Chessdom</a>
                &copy;<a target="_blank" href="https://arena.chessdom.com/">Chess Arena</a> 2010-2018
            </div>
            <div>
                TCEC is powered by <a target="_blank" href="http://chessboardjs.com">chessboard.js</a> and <a target="_blank" href="https://github.com/gvreuls/cutechess">cutechess-cli</a>
            </div>    
            </div>
          </div>
        </div>

    </main><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="dist/js/jquery.min.js"></script>
    <script src="dist/js/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>
    <script src="dist/js/chess.js"></script>
    <script src="dist/js/json3.min.js"></script>
    <script src="dist/js/axios.min.js"></script>
    <script src="dist/js/chessboard-0.3.0.min.js"></script>
    <script src="dist/js/js-cookie.js"></script>
    <script src="dist/js/lodash.js"></script>
    <script src="dist/js/moment.min.js"></script>
    <script src="dist/js/Chart.min.js"></script>
    <script src="dist/bootstrap-table.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>

    <script src="dist/js/graphs.js?v=1000000000000000000001"></script>
    <!-- vch -->
    <script src="dist/js/tcec.js?v=1000000000000000000003"></script>

    <script>
      window.onload = function() {
        (adsbygoogle = window.adsbygoogle || []).push({});
      }
      var cfg = {
        position: 'start',
        onMoveEnd: onMoveEnd,
        moveSpeed: 1,
        appearSpeed: 1
      };

      var chess = new Chess();
      var board = ChessBoard('board', cfg);

      $('#toggleDark').on('click', function() {
        var darkMode = Cookies.get('tcec-dark-mode');
        if (darkMode == 20) {
          Cookies.set('tcec-dark-mode', 10);
          $('body').removeClass('dark');
          $('#toggleDark').find('i').addClass('fa-moon');
          $('#toggleDark').find('i').removeClass('fa-sun');
          $('#chatright').attr('src', 'http://www.twitch.tv/embed/TCEC_Chess_TV/chat?popout');
          $('.table-striped > tbody > tr:nth-child(2n+1) > td, .table-striped > tbody > tr:nth-child(2n+1) > th').attr('style', 'background-color: #e5e5e5')
        } else {
          Cookies.set('tcec-dark-mode', 20);
          $('#toggleDark').find('i').removeClass('fa-moon');
          $('#toggleDark').find('i').addClass('fa-sun');
          $('body').addClass('dark');
          $('#chatright').attr('src', 'http://www.twitch.tv/embed/TCEC_Chess_TV/chat?darkpopout');
          $('.table-striped > tbody > tr:nth-child(2n+1) > td, .table-striped > tbody > tr:nth-child(2n+1) > th').attr('style', 'background-color: #4c4c4c')
        }
      });

      $('#refreshBoard').on('click', function() {
        updatePgn();
      });

      $('#event-overview').bootstrapTable({
        columns: [
          {
              field: 'TimeControl',
              title: 'TC'
          },
          {
              field: 'Termination',
              title: 'Adj Rule'
          },
          {
              field: 'Result',
              title: 'Result'
          },
          {
              field: 'Round',
              title: 'Round (Game)'
          },
          {
              field: 'Opening',
              title: 'Opening'
          },
          {
              field: 'ECO',
              title: 'ECO'
          }
        ]
      });

      $('#schedule').bootstrapTable({
          pagination: true,
          paginationLoop: true,
          striped: true,
          smartDisplay: true,
          sortable: true,
          pageList: [10,25,50,112],
          rememberOrder: true,
          search: true,   
          columns: [
          {
              field: 'Game',
              title: 'Game'
              ,sortable: true
              ,formatter: schedformatter
          },
          {
              field: 'White',
              title: 'White'
              ,sortable: true
          }, 
          {
            field: 'WhiteEv',
            title: 'Ev'
              ,sortable: true
          },
          {
              field: 'Black',
              title: 'Black'
              ,sortable: true
          },
          {
            field: 'BlackEv',
            title: 'Ev'
              ,sortable: true
          },
          {
            field: 'Result',
            title: 'Result'
              ,sortable: true
          },
          {
            field: 'Moves',
            title: 'Moves'
              ,sortable: true
          },
          {
            field: 'Duration',
            title: 'Duration'
              ,sortable: true
          },
          {
            field: 'Opening',
            title: 'Opening',
            sortable: true,
            align: 'left'
          },
          {
            field: 'Termination',
            title: 'Termination'
              ,sortable: true
          },
          {
            field: 'ECO',
            title: 'ECO'
              ,sortable: true
          },
          {
            field: 'FinalFen',
            title: 'Final Fen',
            align: 'left'
          },
          {
            field: 'Start',
            title: 'Start'
          }
        ]
      });

      $('#engine-eval').bootstrapTable({
        columns: [
          {
              field: 'eval',
              title: 'Eval'
          },
          {
              field: 'speed',
              title: 'Speed'
          },
          {
              field: 'mtime',
              title: 'MTime'
          },
          {
              field: 'depth',
              title: 'D/SD'
          },
          {
              field: 'tbhits',
              title: 'TB'
          }
        ]
      });

      $('#live-eval').bootstrapTable({
          columns: [
          {
              field: 'engine',
              title: 'Eng'
          },
          {
              field: 'eval',
              title: 'Eval'
          },
          {
              field: 'pv',
              title: 'PV'
          },
          {
              field: 'depth',
              title: 'Depth'
          },
          {
              field: 'speed',
              title: 'Speed'
          },
          {
              field: 'nodes',
              title: 'Nodes'
          },
          {
              field: 'tbhits',
              title: 'TB Hits'
          }
        ]
      });

      $(function() {
        var darkMode = Cookies.get('tcec-dark-mode');
        if (darkMode == 20) {
          $('.table-striped > tbody > tr:nth-child(2n+1) > td, .table-striped > tbody > tr:nth-child(2n+1) > th').attr('style', 'background-color: #4c4c4c');
          $('body').addClass('dark');
          $('#chatright').attr('src', 'http://www.twitch.tv/embed/TCEC_Chess_TV/chat?darkpopout');
          $('#toggleDark').find('i').removeClass('fa-moon');
          $('#toggleDark').find('i').addClass('fa-sun');
        } else {
          $('.table-striped > tbody > tr:nth-child(2n+1) > td, .table-striped > tbody > tr:nth-child(2n+1) > th').attr('style', 'background-color: #e5e5e5');
          $('#toggleDark').find('i').addClass('fa-moon');
          $('#toggleDark').find('i').removeClass('fa-sun');
        }

        if ($('#google_adverts').height() <= 0) {
          $('#encouragement').show();
        } else {
          $('#encouragement').hide();
        }
        var options = {
          sloppy: true
        };

        var chatHeight = $("#board-container").height() + 70;

        $('#chatright').height(chatHeight);

        $( window ).resize(function() {
          board.resize();
          $('#chatright').height(chatHeight);
          $('#chatright').width('100%');
        });

        updatePgn();
        updateSchedule();
        updateCrosstable();
        updateLiveEval();

        var pgnInterval = window.setInterval(function() { updatePgn() }, 3000);
        var scheduleInterval = window.setInterval(function() { updateSchedule() }, 15000);
        var crosstableInterval = window.setInterval(function() { updateCrosstable() }, 60000);
        var liveEvalInterval = window.setInterval(function() { updateLiveEval() }, 60000);
      });

      function updateSchedule() {
          axios.get('schedule.json')
          .then(function (response) {
            $('#schedule').bootstrapTable('load', response.data);
          })
          .catch(function (error) {
            // handle error
            console.log(error);
          });
      }

      function updateLiveEval() {
          axios.get('data.json')
          .then(function (response) {
            /* ARUN: Should do for all engines */
            var score = 0;
            var tbhits = response.data[0].tbhits;
            if (!isNaN(response.data[0].eval))
            {
               score = parseFloat(response.data[0].eval);
            }
            else
            {
               score = response.data[0].eval;
            }

            var pv = response.data[0].pv;
            pv = pv.split(/\s+/).slice(0,4).join(" ");
            if (pv.search(/.*\.\.\..*/i) == 0)
            {
               if (!isNaN(score))
               {
                  score = parseFloat(score) * -1;
                  if (score === 0)
                  {
                     score = 0;
                  }
               }
            }
            if (!isNaN(score))
            {
               score = score.toFixed(2);
            }
            tbhits= tbhits.toFixed(0);
            tbhits = tbhits + "k";
            response.data[0].eval = score;
            response.data[0].pv = pv;

            $('#live-eval').bootstrapTable('load', response.data);
            // handle success
          })
          .catch(function (error) {
            // handle error
            console.log(error);
          });
      }
    </script>
  </body>
</html>
